/*!
 * winbows-devtool v1.4.2
 * Copyright (c) Siyu1017 2026
 * Github: Siyu1017/winbows-devtool
 */
function e(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return"number"==typeof e&&isFinite(e)}function o(e){if(n(e))return e;const o=(l=e?.valueOf,"function"==typeof l?e.valueOf():e);var l;return+(e=t(o)?o+"":o)}function l(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function a(e){let t=null;return function(...n){t||(t=setTimeout(()=>{t=null,e.apply(this,n)},16))}}function s(e){if(!e||!e.isConnected)return!0;const t=getComputedStyle(e),n=e.getBoundingClientRect();if("none"===t.display||"hidden"===t.visibility||"0"===t.opacity)return!0;let o=e;for(;o=o.parentElement;){const t=getComputedStyle(e);if("scroll"===t.overflow||"hidden"===t.overflow){const e=o.getBoundingClientRect();if(n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)return!0}}return 0===n.width&&0===n.height}const i="…",r="ƒ";function c(e){const n=p(e);return!!["map","set","file","blob"].includes(n)||(Array.isArray(e)?e.length>0:!!t(e)&&(Object.keys(e).length>0||!!(e.__proto__&&Object.keys(e.__proto__).length>0)))}function d(e){return"string"!=typeof e&&(e=String(e)),l(e)}function p(e){const t=typeof e;return null===e?"null":"string"===t?"string":"boolean"===t?"boolean":"number"===t?"number":"undefined"===t?"undefined":"symbol"===t?"symbol":"function"===t?"function":Array.isArray(e)?"array":"[object Object]"==={}.toString.call(e)?"object":"object"===t?{}.toString.call(e).slice(8,-1).toLowerCase():void 0}function u(e,t){return`<span class="obj-viewer-value-preview obj-viewer-value-${t}">${e}</span>`}function h(t,o=0){const l=new WeakSet;return function t(n,o){const a=p(n),s=0==o;let c="";if("object"==a){if(l.has(n))return"[Circular]";l.add(n)}if(o>2)return i;if("array"==a){const e=n.length;if(s){let l=n.slice(0,100).map(e=>t(e,o+1)).join(", ");e>100&&(l+=", "+i),c=u(`${e>1?`<span class="obj-viewer-value-desc">(${d(e)})</span>`:""} [${l}]`,"array")}else c=u(`Array(${d(e)})`,"array")}else if("object"==a)if(s){const e=Reflect.ownKeys(n);let l=e.slice(0,5).map(e=>{const l=n[e];return`${a=e,`<span class="obj-viewer-key-preview obj-viewer-key">${d(a)}</span>`}: ${u(t(l,o+1),p(l))}`;var a}).join(", ");e.length>5&&(l+=", "+i),c=u(`{${l}}`,"object")}else c=u(`{${i}}`,"object");else if("string"==a)c=u(`'${d(n)}'`,"string");else if("function"==a)if(s){const e=function(e){try{return Function.prototype.toString.call(e)}catch(e){}try{return e+""}catch(e){}}(n),t=n.constructor?.toString().toLowerCase()||"",o=!n.prototype&&!/^(?:async\s+)?function/.test(e),l=t.includes("async"),a=t.includes("generator");(e||"").trim().startsWith("class")?c=u(`<span style="color: #ff8b1c;">class</span> ${d(n.prototype?.constructor?.name)}`,"function"):o?c=u((l?'<span style="color: #ff8b1c;">async</span>':"")+" () => {}","function"):(c+=l?'<span style="color: #ff8b1c;">async</span>':"",c+=`<span style="color: #ff8b1c;">${l?" ":""}${r}</span>`,c+=a?'<span style="color: #ff8b1c;">*</span>':"",c+=` ${n.name&&e.match(/function([\s\S]*?)\(.*?\)/)?.[1]?.replace("*","").trim()?d(n.name):""}()`,c=u(c,"function"))}else c=u(r,"function");else if(e(n)){const e=n.id,t=[...n.classList],o=(t.length>0?".":"")+t.join(".");c=u(`<span style="color: #659fff;">${d(n.tagName.toLowerCase())}</span><span style="color: #ff8f26;">${d(e?"#"+e:"")}</span><span style="color: #a6d2ff;">${d(o)}</span>`,"generic")}else if("map"==a)if(s){const e=[...n.keys()];let l=e.slice(0,5).map(e=>{const l=n.get(e);return`${u(`'${d(e)}'`,"string")} => ${t(l,o+1)}`}).join(", ");e.length>5&&(l+=", "+i),c=u(`<span class="obj-viewer-value-desc">Map(${d(n.size)})</span> {${l}}`,"map")}else c=u(`Map(${d(n.size)})`,"map");else if("set"==a)if(s){const e=[...n.keys()];let l=e.slice(0,5).map(e=>`${t(e,o+1)}`).join(", ");e.length>5&&(l+=", "+i),c=u(`<span class="obj-viewer-value-desc">Set(${d(n.size)})</span> {${l}}`,"set")}else c=u(`Set(${d(n.size)})`,"set");else c="error"==a?u("Error: "+d(n.message),"error"):["number","boolean","null","undefined","symbol","date","regexp"].includes(a)?u(d(n),a):u(d((h=a,String(h).charAt(0).toUpperCase()+String(h).slice(1))),a);var h;return c}(t,o=n(o)?o:0)}function g({key:e,value:t,preview:n,separator:o,nextFn:l,type:a,expandable:s}){const i=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),p=document.createElement("div"),u=document.createTextNode((o||":")+" "),h=document.createElement("div");if(i.className="obj-viewer-item",r.className="obj-viewer-line",c.className="obj-viewer-next",d.className="obj-viewer-expand",i.appendChild(r),r.appendChild(d),r.setAttribute("data-expandable",1==s),i.appendChild(c),1==s){let e=!1;r.setAttribute("data-expand",e),r.addEventListener("click",()=>{e=!e,r.setAttribute("data-expand",e),c.innerHTML="",l(t,c)})}return e&&"string"==typeof e&&(p.className="obj-viewer-key",p.textContent=e,r.appendChild(p),r.appendChild(u)),h.className="obj-viewer-value "+(a?"obj-viewer-value-"+a:""),h.innerHTML=n,r.appendChild(h),{item:i,line:r,next:c,key:p,preview:h}}const m=Symbol("triggerEvent"),v=Symbol("listeners");class f{constructor(e,n={shallow:!1}){var o;this.options=t(n)?n:{shallow:!1},this.container=document.createElement("div"),this.overview=document.createElement("div"),this.overviewExpand=document.createElement("div"),this.overviewContent=document.createElement("div"),this.content=document.createElement("div"),this.container.className="obj-viewer-container",this.overview.className="obj-viewer-overview",this.overviewExpand.className="obj-viewer-expand",this.overviewContent.className="obj-viewer-overview-content",this.content.className="obj-viewer-content",this.container.appendChild(this.overview),this.container.appendChild(this.content),this.overview.appendChild(this.overviewExpand),this.overview.appendChild(this.overviewContent),o=this.overview,c(e)?o.setAttribute("data-expandable",!0):o.setAttribute("data-expandable",!1);var l=!1;if(c(e))return this.overviewContent.innerHTML=this.getPreview(e,this.options.shallow?1:0),this.container.addEventListener("click",e=>{e.cancelable&&e.preventDefault(),e.stopPropagation()}),this.overview.addEventListener("click",()=>{l=!l,this.overview.setAttribute("data-expand",l),this.content.innerHTML="",this.getLevel(e,this.content)}),this[m]=(e,t)=>{this[v][e]&&this[v][e].forEach(e=>{e(t)})},this[v]={},this;this.container.innerHTML=this.getPreview(e,this.options.shallow?1:0)}on(e,t){this[v][e]||(this[v][e]=[]),this[v][e].push(t)}getLevel(e,t,n={levels:[],type:"generic",start:0,parentVLevels:void 0}){const o=p(e);if("array"==o)return function(e,t,n){return function e(t,o,l=0,a=0){const s=t.length,r=a||0;if(s>100||l>1&&100==s){const a=l?l-1:~~(Math.log10(s-1)/2),d=Math.pow(100,a),u=s/d;for(let l=0;l<u;l++){let u=t.slice(l*d,(l+1)*d),m=[r+l*d,r+(l+1)*d-1];m[1]>s-1&&0==r&&(m[1]=s-1),m[0]==m[1]&&(u=u[0]);const{item:v}=g(m[0]==m[1]?{key:String(m[0]),value:u,preview:h(u),nextFn:n,type:p(u),expandable:c(u)}:{value:u,preview:`[${m[0]} ${i} ${m[1]}]`,nextFn:(t,n)=>{e(u,n,a,m[0])},type:"array",expandable:!0});o.appendChild(v)}}else for(let e=0;e<s;e++){const l=t[e],{item:a}=g({key:String(r?r+e:e),value:l,preview:h(l),nextFn:n,type:p(l),expandable:c(l)});o.appendChild(a)}}(e,t)}(e,t,this.getLevel.bind(this));if("map"==o)e.keys().forEach((n,o)=>{const l=e.get(n),{item:a}=g({key:String(o),value:{key:n,value:l},preview:`{'${d(n)}' => ${this.getPreview(l,1)}}`,nextFn:this.getLevel.bind(this),type:"styleless",expandable:!0});t.appendChild(a)});else if("set"==o)e.keys().forEach((e,n)=>{const{item:o}=g({key:String(n),value:{value:e},preview:this.getPreview(e,1),nextFn:this.getLevel.bind(this),type:"styleless",expandable:!0});t.appendChild(o)});else if("file"==o){["lastModified","lastModifiedDate","name","size","type","webkitRelativePath"].forEach(n=>{const o=e[n],{item:l}=g({key:n,value:o,preview:this.getPreview(o),nextFn:this.getLevel.bind(this),type:p(o),expandable:!1});t.appendChild(l)})}else if("blob"==o){["size","type"].forEach(n=>{const o=e[n],{item:l}=g({key:n,value:o,preview:this.getPreview(o),nextFn:this.getLevel.bind(this),type:p(o),expandable:!1});t.appendChild(l)})}else{const n=Object.keys(e).sort(),o=Object.getOwnPropertyNames(e).filter(e=>!n.includes(e)).sort(),l=Object.getOwnPropertySymbols(e);n.concat(l).forEach(n=>{let o;try{o=e[n]}catch(e){o=e}const{item:l}=g({key:n?.toString(),value:o,preview:h(o),nextFn:this.getLevel.bind(this),type:p(o),expandable:c(o)});t.appendChild(l)}),o.forEach(n=>{let o;try{o=e[n]}catch(e){o=e}const{item:l,key:a}=g({key:n?.toString(),value:o,preview:h(o),nextFn:this.getLevel.bind(this),type:p(o),expandable:c(o)});t.appendChild(l),a.style.opacity=".6"});const a=e.__proto__||Object.getPrototypeOf(e);if(a&&"object"!==p(e)){const e=Object.keys(a),n=Object.getOwnPropertyNames(a),o=Object.getOwnPropertySymbols(a);Array.from(new Set(e.concat(n))).sort().forEach(e=>{let n;try{n=a[e]}catch(e){n=e}const{item:o,key:l}=g({key:e?.toString(),value:n,preview:h(n),nextFn:this.getLevel.bind(this),type:p(n),expandable:c(n)});t.appendChild(o),l.style.fontWeight="normal"}),o.forEach(e=>{let n;try{n=a[e]}catch(e){n=e}const{item:o,key:l}=g({key:e?.toString(),value:n,preview:h(n),nextFn:this.getLevel.bind(this),type:p(n),expandable:c(n)});t.appendChild(o),l.style.fontWeight="normal",l.style.opacity=".6"})}}}getPreview=h}f.utils={isJSON:function(e){let t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(e){return!1}return"object"==typeof t&&null!==t},isObject:t,isElement:e,isFinite:isFinite,isNaN:isNaN,getType:p,getClassName:function(e){switch(typeof e){case"string":return"obj-viewer-value-string";case"number":return"obj-viewer-value-number";case"boolean":return"obj-viewer-value-symbol";case"object":return null===e?"obj-viewer-value-empty":(Array.isArray(e),"obj-viewer-value-generic");case"undefined":return"obj-viewer-value-empty";default:return"obj-viewer-value-generic"}},expandable:c,parseJSON:function(e){const n=new WeakSet;return function e(o){if(t(o)){if(n.has(o))return"[Circular]";n.add(o)}if("string"==typeof o)try{o=JSON.parse(o)}catch(e){return""}if(Array.isArray(o))return o.map(t=>e(t));if(t(o)){const t={};return Object.keys(o).forEach(n=>{t[n]=e(o[n])}),t}return o}(e)},getPreview:h};var y={logContainer:"log-module_logContainer__RTRoP",noSep:"log-module_noSep__kpXQI",pt0:"log-module_pt0__gmfNw",pt5:"log-module_pt5__0Nnes",logIndent:"log-module_logIndent__hkxtj",logLevelIndent:"log-module_logLevelIndent__fcg-q",logItem:"log-module_logItem__nEqRs",warn:"log-module_warn__XWTVJ",error:"log-module_error__bESfD",info:"log-module_info__GH1qz",logIconContainer:"log-module_logIconContainer__3AkON",logIcon:"log-module_logIcon__gF-Ax",logCountContainer:"log-module_logCountContainer__2csmc",logCount:"log-module_logCount__N-mMq",logContent:"log-module_logContent__emWWb",logPlaintext:"log-module_logPlaintext__BA4Xk",logStyled:"log-module_logStyled__ebxwy",logClear:"log-module_logClear__v-Zvg",collapsibleContainer:"log-module_collapsibleContainer__-Df9-",collapsibleSummaryContainer:"log-module_collapsibleSummaryContainer__88ugq",collapsibleSummaryIconContainer:"log-module_collapsibleSummaryIconContainer__SuhjM",collapsibleSummaryIcon:"log-module_collapsibleSummaryIcon__drjo9",collapsed:"log-module_collapsed__FjxOv",collapsibleSummary:"log-module_collapsibleSummary__xbyOi",collapsibleContentContainer:"log-module_collapsibleContentContainer__z-1W3",collapsibleContent:"log-module_collapsibleContent__sKUKu",tableContainer:"log-module_tableContainer__vh3ut",table:"log-module_table__LCElu",tableHeader:"log-module_tableHeader__wL3Wr",tableBody:"log-module_tableBody__uGV9y",tableHeaderCell:"log-module_tableHeaderCell__eBa-G",tableHeaderCellCaret:"log-module_tableHeaderCellCaret__aubAp",up:"log-module_up__AW6is",tableCell:"log-module_tableCell__5KzwY",tableRow:"log-module_tableRow__LYjh-"};const b=/(?:blob:.+?\/[a-f0-9A-F\-]+|https?:\/\/([a-zA-Z0-9\-\.]+|localhost)(:\d+)?\/[a-zA-Z0-9?&#=.%_\-~/]*)/g,C=/(?:blob:.+?\/[a-f0-9A-F\-]+|https?:\/\/([a-zA-Z0-9\-\.]+|localhost)(:\d+)?\/(?:[A-Za-z0-9\-._~!$&()*+,;=:@/?#]|%[0-9A-Fa-f]{2})*)/g,w=/([A-Z]:[\\/](?:[^<>:"|?*\r\n]+[\\/])*[^<>:"'|? *\r\n]*)/g;function _(e){return"string"!=typeof e&&(e=String(e)),l(e)}function E(e,t){const n=function(e){const t=[...e],n=t.shift();let l=[];if("string"==typeof n){const e=n.length,a={type:"plaintext",value:[]};let s="",i=null;for(let l=0;l<e;l++){const r=n[l];if("%"==r&&l+1<e){const e=n[++l],r=null!=i?i.value:a.value;if(0==t.length||!"sdifoOcj".includes(e)){s+="%",s+="%"!=e?e:"";continue}s&&(r.push({type:"auto",value:s}),s="");const c=t.shift();switch(e){case"s":r.push({type:"string",value:String(c)});break;case"d":case"i":r.push({type:"number",value:parseInt(c)});break;case"f":r.push({type:"number",value:o(c)});break;case"o":r.push({type:"object",options:{shallow:!0},value:c});break;case"O":r.push({type:"object",value:c});break;case"c":i&&a.value.push(i),i={type:"styled",value:[],style:c};break;case"j":r.push({type:"object",value:f.utils.parseJSON(c)})}}else s+=r}s&&(i?i.value:a.value).push({type:"auto",value:s}),i&&a.value.push(i),l.push(a)}else t.unshift(n);for(;t.length>0;)l.push({type:"auto",value:t.shift()});return l}(t),l=n[0],a="plaintext"==l.type||"string"==typeof l.value;!function t(n,o,l=0,s={}){const i=0==l;for(const r in n){const c=n[r];let d=document.createElement("span");if(i&&"plaintext"==c.type&&0==r)d.className=y.logPlaintext,t(c.value,d,l+1,s);else if(i||"styled"!=c.type)if(f.utils.expandable(c.value))d=new f(c.value,{shallow:c.options?.shallow||!1}).container;else if(i){const t=f.utils.getType(c.value);a&&"string"==t&&"object"!=c.type?d.innerHTML=(e.childElementCount>0?" ":"")+_(c.value).replace(C,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(w,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`):"string"==t?d.innerHTML=(e.childElementCount>0?" ":"")+f.utils.getPreview(c.value).replace(C,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(w,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`):(d.className=`obj-viewer-value-${t}`,d.innerHTML=(e.childElementCount>0?" ":"")+f.utils.getPreview(c.value))}else s.type,d.innerHTML=_(c.value).replace(/\n/,"<br>").replace(C,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(w,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`);else d.style.cssText=c.style,d.className=y.logStyled,t(c.value,d,l+1,{type:"styled"});o.appendChild(d)}}(n,e,0)}function S(e=!0){const t=[],n=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");function c(t){(e=1==t)?n.classList.add(y.collapsed):n.classList.remove(y.collapsed),p(e)}function d(){(e=1!=e)?n.classList.add(y.collapsed):n.classList.remove(y.collapsed),p(e)}function p(e){t.forEach(t=>t(e))}return n.className=y.collapsibleContainer,o.className=y.collapsibleSummaryContainer,l.className=y.collapsibleSummaryIconContainer,a.className=y.collapsibleSummaryIcon,s.className=y.collapsibleSummary,i.className=y.collapsibleContentContainer,r.className=y.collapsibleContent,n.appendChild(o),o.appendChild(l),l.appendChild(a),o.appendChild(s),n.appendChild(i),i.appendChild(r),o.addEventListener("click",d),c(e),{get isCollapsed(){return e},container:n,summary:s,content:r,setCollapsed:c,toggle:d,onChange:function(e){t.push(e)}}}const x=Symbol("listeners"),j=Symbol("emit");class L{constructor(e="log",t){this[x]={},this[j]=(e,t)=>{if(this[x][e])for(const n of this[x][e])n(t)},this.on=(e,t)=>{this[x][e]||(this[x][e]=[]),this[x][e].push(t)},this.type=e,this.args=t,this.noSep=["info","warn","error"].includes(this.type),this.count=1,this.groupStack=[],this.container=document.createElement("div"),this.logIndent=document.createElement("div"),this.logItem=document.createElement("div"),this.logIconContainer=document.createElement("div"),this.logIcon=document.createElement("div"),this.logContent=document.createElement("div"),this.container.className=y.logContainer,this.logIndent.className=y.logIndent,this.logItem.classList.add(y.logItem),this.logIconContainer.className=y.logIconContainer,this.logIcon.className=y.logIcon,this.logContent.className=y.logContent,"log"!=this.type&&this.logItem.classList.add(y[this.type]),this.noSep&&(this.container.classList.add(y.noSep),this.logIcon.classList.add(y[this.type])),this.container.appendChild(this.logIndent),this.container.appendChild(this.logItem),this.logItem.appendChild(this.logIconContainer),this.logIconContainer.appendChild(this.logIcon),this.logItem.appendChild(this.logContent),this.isSimple=!0;for(const e of this.args)f.utils.expandable(e)&&(this.isSimple=!1);switch(this.width=0,this.height=0,this.onChange=()=>{},this.updateSize=()=>{const{width:e,height:t}=this.container.getBoundingClientRect();this.width!=e&&(this.width=e),this.height!=t&&(this.height=t)},this.observer=new ResizeObserver(function(e,t=16){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}(()=>{!s(this.container)&&this.container&&this.updateSize()},16)),this.observer.observe(this.logContent),this.type){case"log":case"info":case"debug":E(this.logContent,t);break;case"warn":case"error":case"trace":{const{summary:e,content:n,container:o}=S();E(e,t);const l=document.createElement("div");(function(){var e;try{throw new Error("")}catch(t){e=t.stack||""}return(e=e.split("\n").map(function(e){return e.trim()})).splice("Error"==e[0]?2:1)})().forEach(e=>{const t=document.createElement("div");t.innerHTML="string"==typeof e?_(e).replace(b,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(w,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`):"",l.appendChild(t)}),n.appendChild(l),this.logContent.appendChild(o);break}case"clear":const e=document.createElement("div");e.className=y.logClear,e.textContent="Console was cleared.",this.logContent.appendChild(e);break;case"group":case"groupCollapsed":{const{summary:e,container:n,onChange:o,isCollapsed:l,setCollapsed:a}=S("group"!=this.type);E(e,t),e.style.fontWeight="bold",this.logContent.appendChild(n),this.onChange=o,this.isCollapsed=l,this.setCollapsed=a;break}case"table":!function(e,t){const n=t[0],o=f.utils.getType(t[0]);let l=[],a=new Set;if("array"==o)n.forEach((e,t)=>{let n={"(index)":t,...e};Object.keys(n).forEach(e=>a.add(e)),l.push(n)});else{if("object"!=o)return E(e,t);a.add("(index)"),Object.keys(n).forEach(e=>{const t=n[e];let o={"(index)":e};if("object"==typeof t){const e=Object.keys(t);e.length>0?e.forEach(e=>{a.size>20&&!a.has(e)||(a.add(e),o[e]=t[e])}):(a.add("Value"),o.Value=t)}else a.add("Value"),o.Value=t;l.push(o)})}let s=t[1];s&&Array.isArray(s)&&(a=a.intersection(new Set(["(index)",...s])));const i=document.createElement("div"),r=document.createElement("table"),c=document.createElement("colgroup"),d=document.createElement("thead"),p=document.createElement("tr"),u=document.createElement("tbody");i.className=y.tableContainer,r.className=y.table,c.className=y.tableColgroup,d.className=y.tableHeader,p.className=y.tableHeaderRow,u.className=y.tableBody,e.appendChild(i),i.appendChild(r),r.appendChild(c),r.appendChild(d),d.appendChild(p),r.appendChild(u),a.forEach((e,t)=>{const n=document.createElement("th");n.className=y.tableHeaderCell,n.textContent=e,p.appendChild(n)}),l.forEach((e,t)=>{const n=document.createElement("tr");n.className=y.tableRow,u.appendChild(n),a.forEach(o=>{const l=document.createElement("td");l.className=y.tableCell,"(index)"==o?l.textContent=e[o]||t:Object.prototype.hasOwnProperty.call(e,o)?l.innerHTML=f.utils.getPreview(e[o],1):l.textContent="",n.appendChild(l)})}),E(e,[n]),(()=>{const e=Array.from(u.rows),t=d.rows[0].cells,n=document.createElement("span");n.className=y.tableHeaderCellCaret;for(const o of t){const t=o.cellIndex;let l=0;o.addEventListener("click",()=>{n.remove(),1==l?n.classList.add(y.up):n.classList.remove(y.up),o.appendChild(n),e.sort((e,n)=>{const o=e.cells[t].textContent,a=n.cells[t].textContent;return 0==l?o.localeCompare(a):a.localeCompare(o)}),u.append(...e),l=0==l?1:0})}})()}(this.logContent,t)}}equals(e){if(!e)return!1;if(["group","groupCollapsed","groupEnd"].includes(this.type))return!1;if(0==this.isSimple)return!1;if(this.type!=e.type)return!1;if(this.args.length!=e.args.length)return!1;if(this.text()!=e.text())return!1;for(let t=0;t<this.args.length;t++)if(f.utils.getType(this.args[t])!=f.utils.getType(e.args[t]))return!1;return!0}addCount(){this.logCount&&this.logCountContainer||(this.logCountContainer=document.createElement("div"),this.logCount=document.createElement("div"),this.logCountContainer.className=y.logCountContainer,this.logCount.className=y.logCount,this.logIconContainer.remove(),this.logItem.insertAdjacentElement("afterbegin",this.logCountContainer),this.logCountContainer.appendChild(this.logCount)),this.count++,this.logCount.textContent=this.count}setGroupStack(e){this.groupStack=Array.from(e);for(let e=0;e<this.groupStack.length;e++){const e=document.createElement("div");e.className=y.logLevelIndent,this.logIndent.appendChild(e)}}getGroupID(){return this.groupStack[this.groupStack.length-1]||"root"}setLastLog(e){null==e||0==e.noSep&&1==this.noSep?this.container.classList.add(y.pt0):0==e.noSep&&0==this.noSep&&this.container.classList.add(y.pt5)}text(){return this.logContent.textContent||""}}var k="devtool-module_devtool__40Bsh",N="devtool-module_devtoolLogsArea__PZMBh",$="devtool-module_devtoolMeasurementArea__CDPbA",A="devtool-module_devtoolLogs__BDFhB";class I{constructor(){this.version="1.4.2",this.devtool=document.createElement("div"),this.devtoolLogsArea=document.createElement("div"),this.devtoolMeasurementArea=document.createElement("div"),this.devtoolLogs=document.createElement("div"),this.devtool.className=k,this.devtoolLogsArea.className=N,this.devtoolMeasurementArea.className=$,this.devtoolLogs.className=A,this.devtool.appendChild(this.devtoolLogsArea),this.devtoolLogsArea.appendChild(this.devtoolMeasurementArea),this.devtoolLogsArea.appendChild(this.devtoolLogs);let e,t=0,n=[],o=[],l=new Set,i=new Map,r={};const c=new Map,d=new Map,p=a((e=800,t=800)=>{if(s(this.devtool))return;const o=this.devtool.clientHeight,a=this.devtoolMeasurementArea.getBoundingClientRect().width,i=this.devtool.scrollTop,r=Math.max(0,i-e),c=i+o+t;let d=n.filter(e=>!l.has(e.getGroupID()));const p=document.createDocumentFragment(),u=[];for(let e=0;e<d.length;e++){const t=d[e];0!==t.height&&t.width===a||(u.push(t),p.appendChild(t.container))}if(u.length>0){this.devtoolMeasurementArea.appendChild(p);for(const e of u)e.updateSize(a);this.devtoolMeasurementArea.textContent=""}let h=0,g=0,m=-1,v=-1;for(let e=0;e<d.length;e++){const t=h;h+=d[e].height,h>=r&&t<=c&&(-1==m&&(m=e,g=t),v=e)}const f=Math.abs(this.devtool.scrollHeight-this.devtool.scrollTop-this.devtool.clientHeight)<1||this.devtool.offsetHeight==this.devtool.scrollHeight;this.devtoolLogsArea.style.height=h+"px",this.devtoolLogs.style.top=g+"px";!function(e,t){const n=t,o=Array.from(e.children),l=new Map;for(let e=0;e<o.length;e++)l.set(o[e],e);const a=new Array(n.length);for(let e=0;e<n.length;e++){const t=l.has(n[e])?l.get(n[e]):-1;a[e]=t}const s=[],i=new Array(n.length);for(let e=0;e<n.length;e++){const t=a[e];if(-1===t)continue;let n=0,o=s.length;for(;n<o;){const e=n+o>>1;a[s[e]]<t?n=e+1:o=e}n>=s.length?s.push(e):s[n]=e,i[e]=n>0?s[n-1]:-1}let r=new Set(s),c=null;for(let t=n.length-1;t>=0;t--){const o=n[t];-1===a[t]?e.insertBefore(o,c):r.has(t)||e.insertBefore(o,c),c=o}for(const e of o)n.includes(e)||e.remove()}(this.devtoolLogs,d.slice(m,v+1).map(e=>e.container)),f&&(this.devtool.scrollTop=1.5*this.devtool.scrollHeight)});let u=[];const h=a(function e(){const t=u.splice(0,1e3);for(const e of t)try{e()}catch(e){}u.length>0&&requestAnimationFrame(e)}),g=e=>{u.push(e),h()},m=a=>{if(1==a.equals(e))e.addCount();else{if(n.push(a),a.setLastLog(e),a.on("resize",p),a.setGroupStack(o),"group"==a.type||"groupCollapsed"==a.type){const e=t++,n={id:e,collapsed:"groupCollapsed"==a.type,update:t=>{n.collapsed=t;let o=t;return[e].concat(Array.from(i.get(e))).forEach(e=>{1==o||1==r[e].collapsed?(l.add(e),o=!0):l.delete(e)}),p()}};for(const t of o)i.get(t).add(e);o.push(e),i.set(e,new Set),r[e]=n,a.onChange(n.update);let s=!1;o.forEach(e=>{1==r[e].collapsed||1==s?(l.add(e),s=!0):l.delete(e)})}e=a}p()};let v=0,f=0;this.devtool.onscroll=()=>{const e=this.devtool.scrollTop,t=performance.now(),n=t-f;let o=100*(Math.abs(e-v)/n),l=0,a=0;n>200&&(o=1200),o>2e3&&(o=2e3),o<600&&(o=600),e<v?(l=o,a=600):(l=600,a=o),v=e,f=t,p(l,a)},this.console={log:(...e)=>{0!=e.length&&g(()=>m(new L("log",e)))},info:(...e)=>{0!=e.length&&g(()=>m(new L("info",e)))},debug:(...e)=>{0!=e.length&&g(()=>m(new L("debug",e)))},warn:(...e)=>{0!=e.length&&g(()=>m(new L("warn",e)))},error:(...e)=>{0!=e.length&&g(()=>m(new L("error",e)))},group:(...e)=>{e[0]||(e[0]="console.group"),g(()=>m(new L("group",e)))},groupCollapsed:(...e)=>{e[0]||(e[0]="console.groupCollapsed"),g(()=>m(new L("groupCollapsed",e)))},groupEnd:()=>{g(()=>{o.pop(),e={type:"groupEnd"}})},count:(e="default")=>{g(()=>{e=String(e);const t=(d.get(e)||0)+1;d.set(e,t),m(new L("log",[`${e}: ${t}`]))})},countReset:(e="default")=>{g(()=>{if(e=String(e),!d.has(e))return m(new L("warn",[`Count for '${e}' does not exist`]));d.set(e,0)})},time:(e="default")=>{g(()=>{if(e=String(e),c.has(e))return m(new L("warn",[`Timer '${e}' already exists`]));c.set(e,performance.now())})},timeLog:(e="default",...t)=>{g(()=>{if(e=String(e),!c.has(e))return m(new L("warn",[`Timer '${e}' does not exist`]));const n=performance.now()-c.get(e);m(new L("log",[`${e}: ${n}ms`].concat(t)))})},timeEnd:(e="default")=>{g(()=>{if(e=String(e),!c.has(e))return m(new L("warn",[`Timer '${e}' does not exist`]));const t=performance.now()-c.get(e);m(new L("log",[`${e}: ${t}ms`])),c.delete(e)})},table:(...e)=>{e[0]&&g(()=>m(new L("table",e)))},trace:(...e)=>{e[0]||(e[0]="console.trace"),g(()=>m(new L("trace",e)))},assert:(e,...t)=>{e||g(()=>m(new L("error",["Assertion failed:",...t])))},clear:()=>{g(()=>{n=[],e=null,o=[],l=new Set,i=new Map,r={},m(new L("clear",["Console was cleared"])),p()})}}}}export{I as default};
